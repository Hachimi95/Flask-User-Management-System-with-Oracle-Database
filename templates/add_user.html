{% extends 'layout.html' %}

{% block body %}

  <h1>Add User</h1>
  {% from "includes/_formhelpers.html" import render_field %}
  <form method="POST" action="">
    <div class="form-group">
      {{render_field(form.name, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.email, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.username, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.password, class_="form-control")}}
    </div>
    <div class="form-group">
      {{render_field(form.confirm, class_="form-control")}}
    </div>
    <div class="form-group">
      <input type="checkbox" id="admin" name="admin">
      <label for="admin">Make User an Admin</label>
    </div>
    <div class="form-group" id="secret_key_field" style="display: none;">
      {{render_field(form.secret_key, class_="form-control")}}
    </div>
    <p><input type="submit" class="btn btn-primary" value="Submit"></p>
  </form>
  <script>
    document.getElementById("admin").addEventListener("change", function() {
      document.getElementById("secret_key_field").style.display = this.checked ? "block" : "none";
    });
  </script>
{% endblock %}